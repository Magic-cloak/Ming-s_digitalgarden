---
{"dg-publish":true,"permalink":"/课程内容/生物医学图像处理/","tags":["课程复习"],"noteIcon":"","created":"2024-01-08T00:33:01.000+08:00","updated":"2024-01-07T21:15:28.000+08:00"}
---

#课程复习 

# 小测整理

m邻接要求对角的两个像素同时4邻接的两个像素相同

（错）图像增强不去估算图像退化的过程，但在处理中会考虑到实际退化因素进行校正，具有一定的客观性

不均匀光照的处理方法：
- 顶帽变换
- 局部阈值处理
- 同态滤波

点运算增强包括的技术：
阈值变换、图像反转、对数变换、伽马变换、对比度拉伸、灰度分层、比特平面分层

结构元可以任意大小

白顶帽变换用于提取暗背景上的亮目标
黑底帽变换用于提取亮背景上的暗目标

锐化是对图像的梯度进行增强
边界提取是对图像的梯度进行提取

大津法阈值处理
[[课程内容/生物医学图像处理#大津法\|#大津法]]

推导LOG算子的傅里叶变换

# 数字图像基础

灰度级与存储空间大小的对应：灰度级$L=256$，存储空间$256=2^8$，存储空间占8bit

饱和度：最大的灰度级（超过该值的像素，灰度值会等于该值）

对比度：图像中最高和最低灰度之间的灰度差

反差比：图像中最高和最低灰度间的比率

空间分辨率（dpi: dots per inch）：单位距离像素数或单位距离线对数

图像内插：用已知数据估计未知数据，用于放大、收缩、旋转、几何校正。

## 像素间基本关系

相邻像素：4邻域、对角邻域、8邻域

邻接性有2个条件：
1. 像素灰度值邻接性（值域）
2. 像素位置的邻接性（邻域）

连通性要指明邻接类型

区域和边界

### 距离量度
- 欧氏距离
- 城市街区距离
- 棋盘距离
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106164302.png)

# 灰度变换

## 点运算增强

图像增强：通过对图像的处理，使图像比处理前更适合一个特定的应用，“更适合”的评判主体通常是人，没有统一评判标准，具有一定的主观性。
图像增强目的：图像在生成，获取，传输等过程中，往往会发生质量的损伤，造成图像的退化和不足。改善图像的质量以较好地满足实际需求，是图像增强的目的。

![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106164520.png)

点运输增强特点：点运算增强改变的1×1邻域灰度，与像素位置无关。输入固定，点运算增强是寻找一个合适的变换T的过程。

技术包括：阈值变换（产生二值化图像）、灰度反转、对数变换（图像灰度级扩展或压缩）、伽马变换（幂律变换）、分段线性变换、灰度级分层：特定灰度范围增强、比特平面分层

![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106164859.png)

## 灰度直方图

灰度直方图定义·图像中某一灰度级的像素个数（灰度值的分布情况）
失去了像素的位置信息

概率密度函数PDF：图像中某一灰度级出现的概率。
累积分布函数CDF：图像中从0灰度级到某一灰度级出现的概率。

### 直方图均衡化

目标：找到一种变换$s=T[r]$，使得图像的直方图变平直
要求：单增函数、输入输出同一范围

$s_k=T(r_K)=(L-1)\Sigma_{j=0}^kp_r(r_j)$ $s_k$取整

特点：
- 即使输入图像不同，经过直方图均衡化后的图像灰度直方图分布类似。
- 直方图均衡化不需要规定任何参数，具有“无需干预”的自动特性。

优缺点：
- 能自动增强整个图像的对比度，对于背景和前景都太亮或者太暗的图像非常有用。
- 变换后图像的灰度级减少，某些细节消失。
- 某些图像，例如直方图有高峰，经处理后对比度不自然的程度加大。
- 因为直方图均衡化只能产生唯一一个结果，所以不能用于交互方式的图像增强应用。

### 直方图规定化
交互方式的图像增强
定义：修改一幅图像的直方图，使得它与另一幅图像的直方图匹配或具有一种预先规定的函数形状

# 空间滤波

空间滤波器又称掩膜、窗口、核、模板（Spatial Kernal)
模板的形式并没有必要限制为矩形，矩形只是在数学上易于描述而已。
掩模子图像中的值是系数值，不是灰度。
空间滤波是用空间域模板（空间滤波器）进行图像处理，是一种图像局部增强的技术，实质是相关/卷积运算。

![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106171958.png)

卷积运算要对卷积核进行反转再与原图相乘相加

边界处理方式：
1. 舍弃边缘像素点
2. 原图像边缘外圈补零
3. 原图像边缘外圈补边缘点像素值（复制、对称、循环）

分类：
按数学形态分类：线性滤波器（低通、高通、带通）、非线性滤波器（中值、最大值、最小值）

按效果分类：平滑滤波器、锐化滤波器

## 平滑空间滤波
平滑线性滤波器
统计排序滤波器
小结：
- 平滑滤波器本质上是一种低通滤波器，模板的所有系数都是正数。
- 设计滤波器时通常要求行列数为奇数，以保障中心定位性能。
- 去噪能力与模板大小有关，模板越大，去噪能力越强。
- 具有平滑的效果，同时模糊了图像边缘、细节。

## 锐化空间滤波
进行图像锐化处理的图像必须有较高的信噪比，否则图像锐化后图像质量急剧下降。一般可以先将图像进行平滑，去除或减轻图像中的干扰噪声，然后再进行锐化处理。

梯度运算：
一阶微分处理主要用于提取边缘
二阶微分处理对灰度级阶梯变化产生双响应（开始和结束），边界提取时需要进行过零点检验

将原始图像和拉普拉斯图像叠加在一起的目的是为了高亮度显示边缘信息。

### 钝化掩蔽和高提升滤波

钝化掩蔽：原图像-平滑后的图像得到含有高频成分的锐化掩膜，原图像再与锐化掩膜相加得到锐化图像

高提升滤波
拉普拉斯图像增强：$g(x,y)=Af(x,y)+\nabla^2f(x,y)$
钝化掩蔽图像增强：$g(x,y)=A(x,y)+k*g_{mask}(x,y)$
通过改变A和k的值也许能得到更好的图像

### 梯度增强
使用一阶导数锐化：梯度增强
基本梯度算子
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106183402.png)
Roberts算子
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106183423.png)
Sobel算子
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106183441.png)
特点：
使用奇数大小的核方便卷积运算。
使用权重2的目的：突出中心点的作用以达到平滑的目的。
结果可能不在图像灰度级范围内（即负值和溢出），此时需调整结果。
梯度算子经常用于工业检测、辅助人工检测缺陷，或是更为通用的自动检测的预处理。

# 形态学图像处理

基本思想：是用具有一定形态的结构元素去度量和提取图像中的对应形状以达到对图像分析和识别的目的。

结构元：
定义：设有两幅图像B、A。若A是被处理的对象，B是用来处理A的，则称B为结构元。
1. 结构元原则上可以任意大小任意性质，原点也可以任意定义。
2. 形态学运算的效果取决于结构元素的大小、内容以及逻辑运算的性质。
结构元基本操作
1. 适合 (fit)：结构元中所有值为1的像素与图像区域重合
2. 击中(hit)：结构元中任一值为1的像素与图像区域有重合

## 形态学操作
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106183839.png)

对偶性
$(A\bullet B)^c=A^c\circ\hat B$
$(A\circ B)^c=A^c\bullet\hat B$ 
$(A\oplus B)^c=A^c\ominus\hat B$
$(A\ominus B)^c=A^c\oplus\hat B$^97c1cc

先开操作再闭操作构成了噪声滤波器，可以去除噪声，增强连接。
HMT变换中，只有当结构元素与其覆盖的图像区域完全相同时，中心像素的值才会被置为，否则为0。

## 形态学算法

![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106185837.png)
### 边界提取对比：
空间滤波定位精度较差、对噪声敏感、准确性不高的缺点，而且被检测出来的边缘通常是不连续和不规则的。

### 孔洞填充
结构元：四连通结构元
缺点：必须已知一个种子点，从种子点向外膨胀至整个孔洞。若孔洞边缘没有闭合，则会泄露。

### 连通分量提取
结构元：八连通结构元

### 凸壳
凸定义：
- 如果连接集合A内任意两个点的直线段都在A内部，则A是凸形的。
- 集合S的凸壳H是包含S的最小凸集合。
- H-S称为S的凸缺。
小结：
该算法不一定获得保证凸性所需的最小尺寸，违反凸壳定义。
可以通过限制水平和垂直方向上的尺寸大小来进行初步优化。

### 细化与粗化
细化为减掉完全匹配的位置
粗化为加上完全匹配的位置
粗化常通过细化算法求补集实现，即为了对集合A进行粗化，先令C=$A^c$，然后对进行C细化完成后，求解$C^c$
A的结构不同，通过细化算法求补集的方法可能产生一些断点，需要进行删除断点的后处理。

### 骨架
分为获取骨架和根据骨架子集重建两种操作
要把每一个子集都保存下来

### 裁减（Pruning）
裁减本质上是对细化和骨架化算法的补充，因为这些过程往往会留下需要由后处理来清除的某些寄生成分。
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106194057.png)

## 灰度级形态学操作
### 腐蚀与膨胀
平坦结构元
腐蚀定义为图像与重合区域中的最小值
膨胀定义为图像与重合区域中的最大值
非平坦结构元
腐蚀：区域内相减后的最小值
膨胀：区域内相加后的最大值

对偶性
$(f\ominus b)^c=f^c\oplus\hat b$
$(f\oplus b)^c=f^c\ominus\hat b$
$f^c(x,y)=-f(x,y),\hat b(x,y)=b(-x,-y)$

效果：
腐蚀后的灰度图像要比原图像暗，即暗特征变大，亮特征（相对于SE大小）变小。
膨胀则为亮特征变大，而暗特征变小。

### 开闭运算
与二值化类似

效果：
开运算对图像中暗特征和背景的影响可以忽略不计，但亮特征变小，变小的程度取决于这些特征相对于结构元大小。

## 灰度形态学常用算法
### 形态学平滑与去噪
原理：
开运算对图像中暗特征和背景的影响可以忽略不计，但压制亮特征
闭运算对图像中亮特征和前景的影响可以忽略不计，但压制暗特征
开闭运算组合可以产生形态学滤波器进行平滑和去噪
对椒盐噪声，先开后闭效果最好。

### 形态学梯度
$g=(f\oplus b)-(f\ominus b)$
用于提取边缘

### 顶帽变换和底帽变换
如果欲删除某些物体，可以首先使用一个不适合欲删除物体的结构单元对图像做开或闭变换（目的在于获得背景）。经过差操作后，得到一幅仅保留欲删除物体的图像。

$T_{hat}(f)=f-(f\circ b)$
$B_{hat}(f)=(f\bullet b)-f$

白顶帽变换可用于矫正不均匀光照作用
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106201832.png)

### 粒度测量
粒度测定是指确定图像中颗粒的大小分布
开运算对图像中暗特征和背景的影响可以忽略不计，但亮特征变小，变小的程度取决于这些特征相对于结构元大小。
基本思想是，某个特殊大小的开运算会对包含类似大小颗粒的输入图像的那些区域产生最大影响。

方法：开运算会保留孔径大于结构元的颗粒，滤去小的。所以可以通过不断增大结构元孔径来得到一个一维阵列，通过计算其中两个相邻元素的差值（类似于求导）即可得到颗粒大小分布。

### 纹理分割
将图像分为不同区域的处理称为分割。
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106202429.png)
# 图像分割

图像分割的任务是把图像分离成互不交叠的、有相同性质的区域。
1. 分割必须是完全的，且每个像素必须属于某一区域。
2. 一个区域中的点必须以某种预定义的方式来连接（4连接或8连接）。
3. 各区域必须是不相交的。
4. 每一个区域都具有相同的某种属性（如相同的灰度值）。
5. 两个邻接区域属性在 Q 的意义上必须是不同的。

## 区域内不连续
### 孤立点检测
空间拉普拉斯算子检测孤立点：
如果R值比较小，说明当前检测点的灰度值与周围点的相似。
当R的值足够大时，说明该点的值与周围的点非常不同，是孤立点。

### 线检测
空间拉普拉斯算子线检测
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106203203.png)
正负双线效应处理方法：①取绝对值，但会导致线变宽。②只取正值获取单线。③有噪声时做阈值处理，一般是正阈值。
由于“山谷”效应，线检测通常指细线，宽度小于卷积核大小。
拉普拉斯检测核各向同性，响应与线方向无关。

通常更感兴趣的是规定线方向检测核
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106203257.png)

### 边缘检测
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106203318.png)
导数recall
一阶：检测图像某点处是否存在边缘。
二阶：确定一个边缘像素是位于边缘的暗侧还是亮侧。
每个边缘生成两个值。
其过零点可以确定粗边缘的中心位置。
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106203510.png)
边缘检测的三个步骤：
1. 降低噪声，平滑图像。
2. 检测边缘点：从图像中提取所有可能的候选边缘点。
3. 边缘定位：从候选边缘点中选择组成边缘的点。

#### 图像梯度
1. 梯度图像幅度：$M(x,y)=|\nabla f(x,y)|=\sqrt{g_x^2(x,y)+g_y^2(x,y)}$
2. 梯度方向：$\alpha(x,y)=arctan(g_x/g_y)$
3. 边缘方向：$\phi=\alpha(x,y)-\pi/2$

### LOG算子
将Gaussian滤波器和Laplacian边缘检测结合在一起，先用高斯函数平滑，再用拉普拉斯算子运算。
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106204119.png)
小结：
1. 用公式得到一个的高斯低通核对输入图像滤波。
2. 计算第一步得到图像的拉普拉斯。
3. 找到过零点，这就是边缘。
优点：因先进行了高斯滤波，一定程度上可以克服噪声的影响
局限：可能产生假边缘（false edges），对一些曲线边缘（curved edges）的定位误差较大。

### 坎尼算子
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106204250.png)

### 边缘连接
局部边缘连接
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106204648.png)

全局边缘连接（霍夫变换）
在找出边界点集之后，有时得不到感兴趣目标的知识，这时，需要对检测出的孤立点进行连接以形成完整的边界图形描述。

基本思想：点－线的对偶性。图像变换前在图像空间，变换后在参数空间。
目的：对n个点构成的点集， 找出共线的点集和直线方程。
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106204900.png)
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106205159.png)
连接方法：
1. 得到二值边缘图像。
2. 划分平面进行霍夫变换。
3. 检察像素高度集中的单元的数量。
4. 检查选中单元中像素间的关系。

## 区域内相似
### 阈值处理
全局阈值处理
局部阈值处理
#### 基本迭代算法
![](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106205408.png)
- 迭代算法可能收敛速度较慢。
- 在直方图有一个很清晰的波谷时上述算法很有效。

#### 大津法
1. 计算累计概率和$P_1(k)=\Sigma_{i=0}^{k}p_i$
{ #071907}

2. 计算累计均值$m(k)=\Sigma_{i=0}^{k}ip_i$
3. 计算全局均值$m_G=\Sigma_{i=0}^{L-1}ip_i$
4. 计算类间方差$\sigma_B^2(k)=\frac{[m_GP_1(k)-m(k)]^2}{P_1(k)[1-P_1(k)]}$
5. 当类间方差最大的k是大津法得到的阈值，多个值取到最大则取平均值
6. 计算全局方差$\sigma_G^2=\Sigma_{i=0}^{L-1}(i-m_G)^2p_i$，计算可分离性测度$\eta^*=\frac{\sigma_B^2(k^*)}{\sigma_G^*}$

#### 局部阈值处理
可用于处理不均匀光照的图像

### 基于区域的分割
区域分割定义：利用图像的空间性质，认为分割出来的、属于同一区域的像素应具有相似的性质。主要方法有区域增长法和区域分离与聚合法。

#### 区域增长法
1. 选择或者确定一组能正确代表所需区域的种子像素。
2. 确定在生长过程中能将相邻像素包含进来的准则（生长或相似准则）。
准则很重要：例如灰度值的差值，小区域灰度分布统计性质；彩色图像的颜色；梯度特征，包括梯度的方向和幅值特征。
3. 指定让生长过程停止的条件或者规则。
#### 区域分离与聚合法
思想：
生长方法先从单个种子像素开始通过不断接纳新像素，最后得到整个区域
另外一种分割的想法是先从整幅图像开始通过不断分裂，得到各个区域
步骤：
1. 对任一区域Ri，如果$Q(R_i)=FALSE$，将其分裂成不重叠的四等份。
这个Q可以是方差计算，当区域方差小于某值（同质）时为TRUE。
2. 相邻的两个区域$R_i$和$R_j$（可以大小不同）若$Q(R_i\cup R_j)=TRUE$（有相同性质），将它们合并。
3. 若不能进一步分裂或合并，算法结束。

#### 基于聚类的分割
聚类clustering是一个将数据集划分为若干个类（cluster）的过程，它使得同一个组内的数据对象具有较高的相似度，而不同类中的数据对象有明显的不同。
通常利用距离来描述数据对象的相似性。
[[课程内容/生物医学图像处理#^距离量度\|#^距离量度]]

# 频率域图像

## 傅里叶变换
### 图像中心化
人们习惯于使频域的频谱分布呈中间低、周围高的状态，这样不仅看起来比较直观，而且有利于对频谱进行各种计算与分析。因此，借助于傅里叶变换的周期性与频率位移性质，通常对频域进行换位fftshift以使频谱分布符合上述要求。
![](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106212831.png)
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106213119.png)

幅度谱具有较明显的信号结构特征，且易于解释
相位谱类似随机图案，一般难以进行解释
幅度本身只包含有图像本身含有的周期结构，并不表示其在何处
相位谱具有同样重要的意义，物体在空间的移动，相当于频域的相位移动

### 傅里叶变换重要性质
- 平移性：当空域中f(x, y)产生移动时，在频域中只发生相移，而傅立叶变换的幅值不变。
- 旋转：若f(x, y)旋转 角度，则F(u, v)也旋转相同的角度；反之亦然。
- 可分性：可对x，y分步积分得到傅里叶变换
- 平均值：空域均值等于频域$\frac{1}{MN}F(0,0)$
- 对称性
- 周期性
- 卷积定理

## 频率域图像增强

频域滤波增强原理：在傅里叶变换域，变换系数反映了图像在空域难以定义的某些特征：
- 频谱的直流低频分量对应于图像的平滑区域
- 频谱的高频分量对应于图像的边缘或变化剧烈区域
- 时域中恒定的干扰条纹对应于频谱中的某些特征点

步骤：
1. 空间域$f(x,y)(-1)^{x+y}$变换到频率域
2. $F(u,v)H(u,v)$
3. 反变换回时域

分类：
1. 低通滤波：突出F(u,v)的低频分量，使图像显得比较平滑；
2. 高通滤波：利用滤波传递函数H(u,v)突出F(u,v)的高频分量，增强图像的边缘信息；
3. 除此以外还有同态滤波等。

### 频域图像平滑：低通滤波器
理想低通滤波器、n阶巴特沃斯滤波器、高斯低通滤波器

### 频域图像锐化：高通滤波器
理想高通滤波器、频域拉普拉斯滤波、高频加强锐化

### 同态滤波
图像的照射分量一般在空间变化较为缓慢，对应图像的对数的低频分量。
图像的反射分量一般在空间变化迅速，特别是在不同物体的分界处，对应高频分量。

目标：实现亮度调整和对比度提升，消除非均匀光照的影响。
- 因为乘积的傅里叶变换不是傅里叶变换的乘积，因此，不能直接对照明分量和反射分量进行操作。考虑人眼对图像亮度响应类似于对数运算，取对数可以将乘积函数运算转化为对数加法运算。
- 同态滤波是把频率过滤和灰度变换结合起来的一种图像处理方法。
- 使用这种方法可以：使图像处理符合人眼对于亮度响应的非线性特性，避免了直接对图像进行傅立叶变换处理的失真。

流程：
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106214801.png)

同态滤波器一般形式为：
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106214954.png)

# 图像复原与重建
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106215028.png)
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106215034.png)

### 常见噪声模型
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106215451.png)
高斯分布噪声
瑞利分布噪声
伽马分布噪声
均匀分布噪声
椒盐噪声

## 只存在噪声的图像复原

### 均值滤波器
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106215621.png)
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106215634.png)

### 统计排序滤波器
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106215659.png)

### 自适应滤波器
迄今为止讨论过的滤波器未考虑图像的局部特性，对待噪声和图像的纹理细节都采用相同的处理方式，难以达到更好效果。
真正有价值的图像降噪方法都试图让程序可以自适应地区分无用的噪声和有用的图像纹理细节，然后再采取不同的处理方式，从而能够在去除噪声的同时，保留图像的细节。
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106215752.png)
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106215759.png)

### 频率滤波器
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106215847.png)
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106215853.png)

## 退化函数估计方法
### 图像观测估计法

### 实验估计法

由于线性的空间不变系统完全由它的冲激响应来描述，所以可以利用相同的系统设置，由成像一个脉冲（小亮点）得到退化的冲激响应。
- 一个位于空间域原点的冲激的傅里叶变换，在频率域是一个常数。
- $H(u,v)=\frac{G(u,v)}{A}$
- 高斯白噪声（均值为0）输入系统对输出与噪声进行互相关运算获取系统函数。

### 模型估计法

从引起图像退化的基本原理进行推导，对原始图像进行模拟；在模拟过程中调整模型参数获得尽可能精确的退化模型。
- 根据导致模糊的物理过程（先验知识）来确定h(x,y)或H(u,v)

## 噪声与退化函数并存的图像复原

### 逆滤波

$\hat F(u,v)=\frac{G(u,v)}{H(u,v)+k}$
实验证明，当退化图像的噪声较小，即轻度降质时，采用逆滤波复原的方法可以获得较好的结果。
通常，$H(u,v)$在离频率平面原点较远的地方数值较小或为零，因此逆滤波图像复原一般在原点周围的有限区域内进行，即将退化图像的傅里叶谱限制在没出现零点而且数值又不太小的有限范围内（半径受限）。
逆滤波完全没考虑到噪声统计特征。

### 维纳滤波

- 最小均方误差滤波是综合了==退化函数==和==噪声统计特征==两方面进行复原处理的方法。
- 假设图像$f(x,y)$和噪声$\eta$均为随机信号，且之间互不相关。
- 目标是找到一个未污染图像f的估计值$\hat f$，使它们之间的均方误差最小。
均方误差=$e^2=E\{(f-\hat f)^2\}$
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106221017.png)

均方误差的近似：
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106221918.png)
信噪比：
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106221942.png)
若把复原后的图像看作"信号"，差考虑为噪声，则信噪比为：
![image.png](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidian20240106221959.png)

## 图像复原质量评价
![](https://cdn.jsdelivr.net/gh/Magic-cloak/Ming_Image/obsidianbc6fffc8c64223e7f42883ae4ac7d31.jpg)